# Secure Environment Configuration for LLM Framework
# SECURITY: Based on Google Cloud Console optimization - older key deleted
# Current active key: a8b70fcd764d22039fd1c9a8bfe8b4ecee31c4a8
# 
# PRIORITY ORDER (most secure first):
# 1. Workload Identity Federation (WIF) - No keys needed
# 2. Application Default Credentials (ADC) - Uses gcloud/metadata
# 3. Base64 Service Account (CI/CD) - Single encoded secret
# 4. Environment Variables (Legacy) - Individual key components

# =============================================================================
# SERVER CONFIGURATION
# =============================================================================
PORT=8080
NODE_ENV=production

# Performance Monitoring
ENABLE_MONITORING=true
ENABLE_METRICS=true
ENABLE_DASHBOARD=true
DASHBOARD_PORT=8081

# Security Settings
ENABLE_HELMET=true
ENABLE_CORS=true
REQUEST_SIZE_LIMIT=10mb

# =============================================================================
# FIREBASE CONFIGURATION - CHOOSE ONE METHOD
# =============================================================================

# METHOD 1: WORKLOAD IDENTITY FEDERATION (RECOMMENDED - NO KEYS)
# Set up WIF pool and provider, then:
GOOGLE_CLOUD_PROJECT=scarmonit-8bcee
# WIF requires additional setup - see: https://cloud.google.com/iam/docs/workload-identity-federation

# METHOD 2: APPLICATION DEFAULT CREDENTIALS (GOOGLE CLOUD ENVIRONMENTS)
# GOOGLE_APPLICATION_CREDENTIALS=/path/to/service-account.json
# GCLOUD_PROJECT=scarmonit-8bcee

# METHOD 3: BASE64 SERVICE ACCOUNT (SECURE FOR CI/CD)
# Download service account JSON, encode with: base64 -i service-account.json
# FIREBASE_SERVICE_ACCOUNT_BASE64=eyJ0eXBlIjoic2VydmljZV9hY2NvdW50IiwicHJvamVjdF9pZCI6InNjYXJtb25pdC04YmNlZSI....

# METHOD 4: ENVIRONMENT VARIABLES (LEGACY - NEEDS ROTATION)
# Use ONLY the active key: a8b70fcd764d22039fd1c9a8bfe8b4ecee31c4a8
FIREBASE_TYPE=service_account
FIREBASE_PROJECT_ID=scarmonit-8bcee
FIREBASE_PRIVATE_KEY_ID=a8b70fcd764d22039fd1c9a8bfe8b4ecee31c4a8
# FIREBASE_PRIVATE_KEY="-----BEGIN PRIVATE KEY-----\nYOUR_PRIVATE_KEY_HERE\n-----END PRIVATE KEY-----"
FIREBASE_CLIENT_EMAIL=firebase-adminsdk-fbsvc@scarmonit-8bcee.iam.gserviceaccount.com
FIREBASE_CLIENT_ID=105518662782201514005
FIREBASE_AUTH_URI=https://accounts.google.com/o/oauth2/auth
FIREBASE_TOKEN_URI=https://oauth2.googleapis.com/token
FIREBASE_AUTH_PROVIDER_X509_CERT_URL=https://www.googleapis.com/oauth2/v1/certs
FIREBASE_CLIENT_X509_CERT_URL=https://www.googleapis.com/robot/v1/metadata/x509/firebase-adminsdk-fbsvc%40scarmonit-8bcee.iam.gserviceaccount.com
FIREBASE_UNIVERSE_DOMAIN=googleapis.com

# =============================================================================
# MEMORY MANAGEMENT
# =============================================================================
MAX_MEMORY_MB=2048
MAX_CACHE_SIZE=50000
DEFAULT_TTL=7200000
CLEANUP_INTERVAL=300000
MEMORY_WARNING_THRESHOLD=80
MEMORY_CRITICAL_THRESHOLD=95

# =============================================================================
# API KEYS (Add as needed)
# =============================================================================
# ANTHROPIC_API_KEY=your_claude_key_here
# OPENAI_API_KEY=your_openai_key_here
# GOOGLE_API_KEY=your_google_key_here

# =============================================================================
# DATABASE CONFIGURATION
# =============================================================================
# REDIS_URL=redis://localhost:6379
# DATABASE_URL=postgresql://user:pass@localhost:5432/llm_db
# CHROMADB_HOST=localhost
# CHROMADB_PORT=8000

# =============================================================================
# MONITORING & ALERTING
# =============================================================================
METRICS_RETENTION_HOURS=24
ALERT_EMAIL=admin@scarmonit.com
SLACK_WEBHOOK_URL=https://hooks.slack.com/services/your/webhook/url

# =============================================================================
# SECURITY HEADERS
# =============================================================================
CSP_REPORT_URI=/csp-report
HSTS_MAX_AGE=31536000
REFERRER_POLICY=same-origin

# =============================================================================
# RATE LIMITING
# =============================================================================
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=1000
RATE_LIMIT_SKIP_SUCCESSFUL_REQUESTS=false

# =============================================================================
# LOGGING
# =============================================================================
LOG_LEVEL=info
LOG_FORMAT=json
LOG_FILE=logs/app.log

# =============================================================================
# DEPLOYMENT SETTINGS
# =============================================================================
# For Render.com
# RENDER_EXTERNAL_URL=https://your-app.onrender.com

# For Railway
# RAILWAY_STATIC_URL=https://your-app.railway.app

# For Fly.io
# FLY_APP_NAME=your-app-name
# FLY_REGION=dfw

# =============================================================================
# DEVELOPMENT SETTINGS (DO NOT USE IN PRODUCTION)
# =============================================================================
# DEV_MODE=false
# DEBUG=llm:*
# MOCK_FIREBASE=false
# DISABLE_AUTH=false